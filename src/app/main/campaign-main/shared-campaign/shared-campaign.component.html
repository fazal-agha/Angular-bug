<nb-layout>
  <nb-layout-column class="main-wrap-outer">
    <div *ngIf="!showLoader" class="main-wrap">
      <div>
        <div class="m-b-29 df ai-c" style="color: black; font-size: 25px; justify-content: center;">
          <img [src]="brand_logo" class="m-r-10" alt="" style="height: 60px; width: 60px; border-radius: 50%;" />{{ brand_name }}
        </div>
        <nb-card class="auth-card m-b-40">
          <nb-card-body *ngIf="!invalidCampaign">
            <div class="fs-22 fw-400 m-b-9">
                Enter User Details
            </div>
            <form [formGroup]="myForm">
              <div class="inputs-row m-b-26">
                <div class="input-wrap full-width m-r-10">
                  <div class="fs-15 m-b-5">
                    First Name
                  </div>
                  <input
                    [ngClass]="{
                      error:
                        myForm.controls['firstname'].invalid && !customValidation
                    }"
                    [(ngModel)]="data.firstName"
                    type="text"
                    formControlName="firstname"
                    nbInput
                    fullWidth
                    fieldSize="small"
                    placeholder=""
                  />
                  <div *ngIf="myForm.controls['firstname'].invalid && !customValidation" class="error-lable">
                    Required
                  </div>
                </div>
                <div class="input-wrap full-width">
                  <div class="fs-15 m-b-5">
                    Last Name
                  </div>
                  <input
                    [ngClass]="{
                      error:
                        myForm.controls['lastname'].invalid && !customValidation
                    }"
                    [(ngModel)]="data.lastName"
                    type="text"
                    formControlName="lastname"
                    nbInput
                    fullWidth
                    fieldSize="small"
                    placeholder=""
                  />
                  <div *ngIf="myForm.controls['lastname'].invalid && !customValidation" class="error-lable">
                    Required
                  </div>
                </div>
              </div>
              <div class="inputs-row m-b-33">
                <div class="input-wrap full-width">
                  <div class="fs-15 m-b-5">
                    Email
                  </div>
                  <input
                    [ngClass]="{
                      error:
                        myForm.controls['email'].invalid && !customValidation
                    }"
                    [(ngModel)]="data.email"
                    type="email"
                    formControlName="email"
                    nbInput
                    fullWidth
                    fieldSize="medium"
                    placeholder=""
                  />
                  <div *ngIf="myForm.controls['email'].invalid && !customValidation" class="error-lable">
                    Required Valid Email
                  </div>
                </div>
              </div>
              <div *ngIf="campaignType == 8" class="inputs-row m-b-33">
                <div class="input-wrap full-width">
                  <div class="fs-15 m-b-5">
                    Members
                  </div>
                  <input
                    [ngClass]="{
                      error:
                        myForm.controls['members'].invalid && !customValidation
                    }"
                    [(ngModel)]="data.members"
                    type="number"
                    formControlName="members"
                    nbInput
                    fullWidth
                    fieldSize="medium"
                    placeholder=""
                  />
                  <div *ngIf="myForm.controls['members'].invalid && !customValidation" class="error-lable">
                    Required
                  </div>
                </div>
              </div>
              <div class="inputs-row m-b-33">
                <div class="input-wrap full-width">
                  <div class="fs-15 m-b-5">
                    Phone
                  </div>
                  <input
                    [ngClass]="{
                      error:
                        myForm.controls['phone'].invalid && !customValidation
                    }"
                    [(ngModel)]="data.phone"
                    type="text"
                    formControlName="phone"
                    nbInput
                    fullWidth
                    fieldSize="medium"
                    placeholder=""
                  />
                  <div *ngIf="myForm.controls['phone'].invalid && !customValidation" class="error-lable">
                    Required Valid Phone number
                  </div>
                </div>
              </div>
            </form>
            <div class="m-b-25">
              <button
                (click)="getCard()"
                class="cust-button fw-400 fs-14"
                fullWidth
                nbButton
                status="success"
              >
              <i *ngIf="inProcess" class="fas fa-spinner fa-pulse"></i>
                Get {{ cardType }}
              </button>
            </div>
            <div>
              <div *ngIf="successMessage" style="color:black;">
                {{ successMessage }}
              </div>
              <div *ngIf="errorMessage" style="color:red;">
                {{ errorMessage }}
              </div>
            </div>
          </nb-card-body>
          <nb-card-body *ngIf="invalidCampaign">
            <div>
              Campaign Not Found (Invalid Campaign)
            </div>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="text-center fs-11 color-secondary">
        Â®2019 Walletly Business, All rights reserved. Termsand Privacy
      </div>
    </div>
    <div *ngIf="showLoader" class="loader">
      <img width="200px" src="assets/img/Loader2x.gif" alt="">
    </div>
  </nb-layout-column>
</nb-layout>
