<div class="df jc-b m-b-15">
  <h1 class="m-t-0 m-b-0 fs-24 fw-600">
    <span *ngIf="!id">Create Campaign</span>
    <span *ngIf="id">Edit Campaign</span>
  </h1>
</div>
<nb-card>
  <nb-card-header class="non-border">What is your Marketing Objective</nb-card-header>
  <nb-card-body *ngIf="showLoader">
    <div class="loader-table">
      <img width="70px" src="assets/img/Loader2x.gif" alt="">
    </div>
  </nb-card-body>
  <nb-card-body *ngIf="!showLoader" class="p-0 p-b-10">
    <table class="m-b-40" [nbTreeGrid]="data" equalColumnsWidth>
      <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
      <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>

      <ng-container *ngFor="let column of defaultColumns" [nbTreeGridColumnDef]="column">
        <th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef>{{column}}</th>
        <td [id]="row.data[column].name" (click)="selectType(row.data[column].name)"
          [ngClass]="{'active-sell': (selectedSell === row.data[column].name && row.data[column].name), 'c-p': row.data[column].name, 'pe-n': !row.data[column].name,
                       'disable': (disable && row.data[column].type != cardType), 'disableLoyalty': (disable && cardType == 'loyalty' && selectedSell != row.data[column].name) }"
          nbTreeGridCell *nbTreeGridCellDef="let row" [ngStyle]="{'pointer-events': row.data[column].locked ? 'none' : 'auto'}">
          <div *ngIf="selectedSell === row.data[column].name" class="df ai-c" style="height: 30px !important;">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30">
              <g>
                <g>
                  <path fill="#20beea" d="M12.5 25C19.404 25 25 19.404 25 12.5S19.404 0 12.5 0 0 5.596 0 12.5 5.596 25 12.5 25z"/>
                </g>
                <g>
                  <g>
                    <path fill="#fff" d="M5.923 12.244a.833.833 0 0 0-1.179 1.179l4.167 4.166a.833.833 0 0 0 1.178 0l9.167-9.166a.833.833 0 0 0-1.179-1.179L9.5 15.822z"/>
                  </g>
                </g>
              </g>
            </svg>
            <span class="m-l-15">{{row.data[column].name}}</span>
          </div>
          <div *ngIf="selectedSell !== row.data[column].name" class="df ai-c" style="height: 30px !important;">
            <svg *ngIf="row.data[column].name == 'Loyalty Card'" class="m-r-5" width="25px" height="18px" viewBox="0 0 25 18">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <image id="LoyaltyCard" x="-3" y="-6" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGOfPtRkwAAAjFJREFUSA3tVs9rE0EU/ibZmU1oihcTiwpCbdWrHvRoE0QK1pZ4qQcb/wEPXgTRGhT0IP76H2oP4iWgERQPVZTiDzQo4sWDJQoWowfb2iab3R1nNizMdrNFpumlZC7z3nzvfd/MG3beAt3RrcBmqwBRD5TPT2T+GnyaWM3DcBymYuuy43GLM/q8xyanSqW7PyWXoRIuGWRqcf+BodrICIXROV3YFkuXy0O8UpkSesMh4ZjVyNaOj1In1avupwN2EpJ3y+tXWZ8s5hveLMrrMrO1xLk39xbPgb2YCYRBA/N4lesLCiv0qetXkCiX4G7NAIxBboB+/uRF6GIKffCOVaB+sgDzySOwN7MwqnOoHxuD3b/bC9HFVP7IE9OXz0A/vIfbtx28JwXz6WPEv3/zcnWx/xJ2duzEQvEanEwfVk6Mo3FkGG5alF0MXUwVDnxOKmBlj3quPbgH3DTRyLV8uaiDEctS6aPv2I+q58d9MzTrYpIo8o5DKh1eiCx1/+Ui6O9fqI2OYXlgELtu31xT+sfEaSwcPLRmjApGCn+dvIRY04aTSACE4MuNOyDcVXMDtpNMBvzVDqcUy3v3zaLcQtoKE7uJRLUK/4VaTaLr/8ll3+LWVS+9rbAU3Xb/nhDWlQjnyWqx+fkzH4GzEg0Ki/YlGgVbES/U3PmL4ex1rMSXFjEwecHxKQLC4iGfST98kNuAtgjRFpuSv61wyuYFUnk3LdrXRv0IFHzh7tytwOarwD+EHP26UumRtwAAAABJRU5ErkJggg=="></image>
              </g>
            </svg>
            <svg *ngIf="row.data[column].name == 'Stamp Card'" class="m-r-11" width="19px" height="26px" viewBox="0 0 19 26">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <image id="stampCard" x="-6" y="-2" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGOfPtRkwAAAe9JREFUSA3tVstKw0AUvRnT5tGHgg9sQI1SBRfiJ4jgL9S/UD9AXblzJfoFrgTdiEvxBwQXulVBaakV3y/yqiZOYtvUMNMZbBdCO4tm7plzz+lkbrgD0G5DaLThXC6nfDhezvuCUUCoIfeXjut6QhdcJePCHh7mr7VKQBXzTcs2OhuW45kJWVWoRIKqh7FzyzDzllOKSe40yVwk5AXQuy3Mj0tSZm1IT9I4DDy5kr/OXNjWPOZtR7koCtRi19WzsirX4j9MgnysQ0ql7rh6po/lMmze38ClaUJWUWCxXwt0eLGqTtScblxh+ganqgPF2RR8HBuwhWP/DHkwXVSifrWYaXxhmFCcS8PDFBbpEiBx8BYk82B6ugnjEVmCtxMDPmUBBvHTj/3BiwVkwg9zxwsDGqzfFkHdeQZNkWFh8OeMebDDl1eC5Q/ENNbiEmwMj0HZ8yAmhF8zL0ZzZho3XdUUZ6Zxp6o7Vc2qdEptAb1JRDLqDapLvFiVX//kNq5PasW8Y9yKt8il8Q9fNb4pcv11FomiQ98xQteXlmGxdButB/lYh8ShNomU5O0WbHt5tXCVmVQSyky6x+0VRdh/ekCfuEU2Gv6qf70t2E7J1yFxwwZLWK2/0AsIHfV1S6d3L/YSbstxAj2EOC70IbldZt8Q8ke0zLd/mwAAAABJRU5ErkJggg=="></image>
              </g>
            </svg>
            <svg *ngIf="row.data[column].name == 'Membership Card'" class="m-r-5" width="25px" height="18px" viewBox="0 0 25 18">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <image id="membershipCard" x="0" y="0" width="25" height="18" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAAAAXNSR0IArs4c6QAAAmlJREFUOBHdVU1oE0EU/mZ/kk22P/GvRqrkUKhFKogXW4s2lYqXIrYWL7ZS8CJYL4JUD3pXD16kB08l9lhUVOqhERGrbdXSYtFYaymoPUQlqbHZ7G6yO85myRqhCUGjBx/M7uy8977vzbw3b0lnZ28N4VPDapq0GgZ1oUzC80SXRPqYGp4egXBqaF+jETzRrolugZaJAtAyxBUKu4NP5tSQoGVoW99BVayWAVUHXi3x2LbRxJYNf0boBYWFG56R24SMAZckEigaxenBahChCrF4AheOrWJPg1HSzsKzLoyMywzWFl+FiYGuBGQJsPCFHMr0Ag9PxSac6j+LqalJ3Ht+l5Gs5NRF37cnZOze2wG/35+1ezg2ipfv59HaaAfpkGz2UXz5GkMkEsG7yGsE1qWLAucrrchnpyfg9bDQmUSjUfiacvsCHJL6rSaOB1fxYHQYgRoDfe3JfJyi8/NHE5hZTMI0bTNfM8WuOgOaTrILDon1daRZzw7btPRnpZdi/85MQQeuoKaMiv+HxMnJ3BKHqyMSBI7icm8KtyZFPJ0XCx6aW6S4flLBtfsS3nzi0bI9ja6mNAZuepAxCc51q6ivtSuMHOropncuKRBZS1l8S8GZFLU+E99VgphiV8daTG4Wnr/KRDxFkGBjPUt+pUSxvMLB5AjqGggIc7845Hnm7MRg5ZfUCCgrkkSKXwv3lzVFA+LJn3YK83WEJ4h8tNN9uEV/4ZAsLPO4MS6C0jxjx+s3JgzGOqwPn7l+QeChq2nq2hEwMHimtF5VKuU3dp97rsiG4BbIo6Ex6cBfaPVgrT5t4ZN/8dP6ASgY6TXCqtc8AAAAAElFTkSuQmCC"></image>
              </g>
            </svg>
            <svg *ngIf="row.data[column].name == 'Coupon in %'" class="m-r-3" width="27px" height="27px" viewBox="0 0 27 27">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <image id="Coupon" x="-2" y="-2" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGOfPtRkwAABSRJREFUSA3llntQ1FUUx88uT4HNUUsFUfGBOmG21Ew+elBplpqPycmRGh9NWZqVFNrDZBpHnJxmohepTYbmMzVtFJTElFIRBBs0wD8ABSyQh2iyKOvib2/f74/Z5rcLu0H+00xn5sP93XPPPYdz7mtF/m9i6kLC/rB9DEwBd4OhwA+0ggpwFhwGPwEN+JTOBA6GhyUgEdwFKkEeqAGNoBeIAGNAFLgEvgCfADv4V/IoZl0EDkBnVuBLOE472l8ArFCX5XXMYBmzwJAuzqY953H+y12ZuxDGCrBcXMd2sktlh228lh69pSlz+D51wtLOoG0e59PPS57jHa3xEzDKBCzZm8YJm2w/xjjVrRfhajr8DTaOwdFFk5j2m/zNafNCJxcaxhh8MRgPjrv0noG7YeAcKAOTgL47t6mMHjdt6mP05yGoGa1XMZlMSin5zt8ckDDX8mQ9DFkxJjIcDAM3QTsny6DrBxYBPejGpkMjHDY5hYAvMGhLU4vkbD0uRVlnxak5YdYmZbmlUnKkWBAVyah4zeko2NKcfi9G6Yf+wsGrQBfjf89zyrX9Cpzn6I7rWRHYH0fhLJp9ypqJydJU3yT5u3Nlx9vbdB376+ekiqOFm7lNsLADbjnlyDZ7BpeE/uj3PcA4bhmztPyvNnAAwcz2W44f0FKnS9WZKmmF80lvTZHJS6dJYfpp2sm+1XtlgDVKYp++z2Wqtxjq5XCo/btUSSAU3wDeAw9x0JhxHPqVgDeQbLIdnKtEPcBvl4QPCxeHvVUaKurlfH659B81UKoKq6Rgzyl5Nnm2y8ytRfCYG02VrOQZUAmmArfADMIbSRdkkuT6drWBIYEy97P5sn3ZVik7WSozV86S3Su2y8Pz4yRiBFbFizhNzuW7lOImo/+RNNPrzQ8IS1rAj43NB6xKc3Jt2smop6xCKHk7T8rlykZZvD2hnZ2bQkmfG80HH4SO12wMx4ylDkW/kUrlVBPY+hK7za6v7dR3p0tQaKD8Ufy7L3OXT/rvRUNjxrzQdSXOYiQ3jS85mJIhd/TuLv1G9pfkuJV6qevKayUx/R3p1j2k/VST9IfyCrjKQWPGFei3LZRT3clBb1J/oU5+3nBUZq2eLSdxpsfGj5MFaYukz9C+UrA338s0xaTov44GxsAl6PNpg9Z0WW+9/Pl+xU796AwZHS1BIUHSip1OcdgdEhQW3OEs1I8+x4LTNDAGTkc/Clhx6XldsKLDv0lZXqnMSJoJU8GOfkRKjhbLhxNW4SZT+Ididb3nn18zcnm7DAT8oSDGuzoAfT7iO3DVbWjV9HNHm04JN1uwpeNs6WD5/Qv31JZXM+NBwGHMmPX6CLwyJ2xqM9py0GnxFbSuvKYBQafB2aeAmbuVmv1U0ADWaXZtFRW3K05Nk5SZH/AYcfnWuvwZM6buBngOPL6gz4xYLEQulbcjmxPWNjRU1vI5nAeuu3x5Bqb+F5AIEt4YGF+kNFVNZVeFmW5dur7l2OYsPgx8Dk8YfRg3l1HPb76hqcFh3XKTslPCw4dFDvY08Navv3BJ0l77vKU0p5iv0hLwpaetr8C0HQ++BpHWSaNLn3n/+RGR9wzy40BHcrGoQo59e0hlp2XiYVM1uHr5ZOV0ZPtPgTmHdzh/e7ECEaE9LNeix8WYe0f1tYT1tEjzFZv8WduIs32u9Wp1Y4DZz9yIXyZrYLsO/L2m+HaTzgR2TeA5nwjiwBhsvN5ms7mnyc9kc2pSpTSN7+0BcBzoRwbtf0/+AgRi0NjnpXGrAAAAAElFTkSuQmCC"></image>
              </g>
            </svg>
            <svg *ngIf="row.data[column].name == 'Coupon in $'" class="m-r-3" width="27px" height="27px" viewBox="0 0 27 27">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <image id="Coupon-in-$" x="-2" y="-2" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGOfPtRkwAABSVJREFUSA3lln9MVWUYx59zLxBOMYWCRFAH+JNQtM1IxGpKpebaqpXmhnO4tIy0oW3qLFtW2g9tYtqKH4o4HMtlSqZWw7xX0GViGMn4IQqhIaLyQ4Gr97x9v0cvHPBeAv9q67t9OO953ud5n/u+5znPQeT/Jq0XG/aC75NgJhgDIoAV3ASV4HfwI/gJOEG36kliX6ywBCSDB8E5cAxcAPUgAASDGDAMXAQpYCNoBfekJxBVBRyAi0WD7sR5+tH/LOAJ9VpJiOAxHgLhvYymP+MY/2pvYhfBWQEeF5/jXVI5xf0aMo4Nb9xhH6m+s/vd5XA7jvFcZ0HXeXfPOB5OPwAe2VvmgKZt9kilS6IS9RzsYeY50bQq0WSvl2ZJ7ztvUqFpjskXg6nA5rJ3TdwHE3+CMjAdGNWpdtoGNrXJZyLaPCS1wC5tNx3y8b7tsnxWgvh630eTIU3TFLTL4mVZ6pcQewlGnhg3MhKMAG1AjEU4uKPluA4GrwEjaWNG/qgmhxzHec13JaVveW21fJqbKaUXWXsdQlJuZo7uVL8277CNw5jrcL1B4HVgyLxjvqdcZTdgYcn1bHuws1WdUMoIokl0XZeDRQWyv9AumbZceSkmXgL8BsjM8XESN2q84eP6g93X+/ioib5z41jhfHQvg2Bwy7xjHi1/VSoQ/HLLrVb1rTkpbLIw7QOZk7JCCsqKJCo0Qs7UVIq9pFBKLrCHdBb8AxwObS8K0QczaYB9YDK9uEuXHsfgHGAHkqZt+Qmox4kcu1RUVSY5BYckO+kjmTHeiHdNebwieWTjjWt8SzaBc2AWOGzeMZOwIxlSSl/tGruuFbV/GcMpoye4TD26arpaqXIUi4zrP8wgc2IeM9ugNGccZQcK49is2JHjxNvqJclZG+RERbGcripHcZ0Xp27Uodm10xhFGdR8Iz8WRq7PPJ2Oui/u62nUlZrGa1cF3R8gWYvXyqK0D2VX/sH26YF9+8uXiSvlmWiu7V531uT6AfQwP2M2dMOIagxhIbkTF6/clCsVeJ1aHA68z22SmrdHEr96T4rW5xgV7i4Or08o7FfAVc6bE7MsWeqii3qAV0/CD5OIh4a0T48OCZPs/ANysrJE4sfyI+VW3JQvqOWs+RkX496Isoh2mZM9le3MScN1sH+g5xCluOZj4ASdzDveh3s2jmil6dVGa6dHF32+f6d8c5zf+ttqRetkF5s7eYaMwc49Kfc3mwNzQ4ERbE58GEY+/ESLVVKdOkZuFBkaLrWNV+Ry0zXjnWbCNS8ulGcnTHHj3WF6Z/cWPj5W9S+0mlsm798Ga8HohnT7AfSvCBrd6Y/qcol9d77Y12RI1BCPbkYoTqTukRWvDMDNKvAJjeZnzPvNoA5sbXU636fBk8KDQiXp6dkoMharZ/Edf2HDMp5kNdji8uy6Y9rZOn8GKY3p9kfx8rMg7llJ29bXZR7JZUVzXbtroa47pp3PIBksHfrm9NNO5ayhsbfiTpdlbWxBUn4Y+DlsT8q13O2Ydorf0M39fPsU5K1OHTRi0BDPJWu4d/w5e6lG3khf13K09JQPrEvAFx2zt0fdJabHVPA1CJkeHVu66vkFo6JCItjs3Yq9e/uRfSo9bw/6nrqANjkbjkfdOf9bYsawh/N/L55AMPpyw6ThYy3DAgf7+ffrL1eaG+Xva5flWFnRzZqrdd5Wi7Uex7wOvlvBdeBWPUnsCvTG4CnAIonRRAu0WDR/q2Ztcur6edTCKdi/BzbAZvHf1D9e/sQCf8YKuwAAAABJRU5ErkJggg=="></image>
              </g>
            </svg>
            <svg *ngIf="row.data[column].name == 'Event Tickets'" class="m-r-3" width="27px" height="27px" viewBox="0 0 27 27">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <image id="eventTickets" x="-2" y="-2" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGOfPtRkwAAAxlJREFUSA3tlk9IFHEUx7+zSrZ7cBJM8dASSIdQMwoRTBSt1i26iUEgGdUlBJOKonsdig7tIQKN/vgnw/Ug2cEs7RAIJkGI0iEWy8U1U6ndcPyT+uv3ZvjtzrizOjtSdOh3mDfzfu+9z/zevPf7DfB/2MgAY2w3UxQfl9ttuNtz4TCZzcx0s6YmhYVCQ/zZbSWSw4pRIhuCYnb2Cfr6vBgddcLvL8LUlN8K3DbYAB0aSlNfLhCQ0NZWhMnJFj6/N9ELk94W2BQqKC6XBIcjKEnSR6Eyk0mDN4QSITNzDVlZ3WYwvS4psBn0l8eLz4c8QJqWbYTDDiwvN+ohZmm3DDaDLu0/iNc/nLj8cARBbzWQng6MjQGBQD6bm3vKVlaqeaW38m9+n/sbql3Sv1mi+0TQgW1unK9vQSS8gKOeAviuHcauNy+ASATIywNkeY1XvQOKwlBbO4ycnBr+7SeIsynYClS8sKdqH+5erYzBxQTJ3FyGmhqCl3P44oapTgZKsftejqDx9gCCFSe0tJNSDGq14eFCLCzcIlVCcLJQEZ/gZ6734GvFcaHSZHHxEkpKeuF03iBFqnFWe7ILJe902YkrDUeQ8eVTLDRBPZ5e3mp1PM1hmoj7xluFPrh3GpXLE0j78F4Dm0BpwpBqU2h+IfTVq0WLv9JKrUINYA5NjW74Yu/lFpGCA3jc8U5tmXicpkkWagBjevok+vuroIOSwc7nnbhzqRzUKmbDDpTixFKdnT2OsrIRtd/0hPl5tS+pP9fD7UIpvKG4eLrddJ6q52pKiqRu+LT30jbIt0PqT+pTapmtQOPApODwTIyPP+JQGS6Xj2/61QiFjqG5eYeA1998hQtnSy1VL8U0G4YVCwMOz+D99j36rChv0dpaqq5clvGz7hxSn3XA+W1KM0nQMsLfTJqC1xvSKYOurk4MDsZqQhjZgJJrfCARUC8V5aJ6yuh1dG8TSq6bgintHBrG6iojh+jYAjQaY7MbKjj119XnW2MNDYy1ty+qv7T0l/mnB4e7VXhPz9+DikVx+B6+0lNcmp5qwu6flr8BIZYPX9h4g6cAAAAASUVORK5CYII="></image>
              </g>
            </svg>
            <svg *ngIf="row.data[column].name == 'Webinar Event'" class="m-r-6" width="24px" height="25px" viewBox="0 0 24 25">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <image id="webinarIcon" x="-3" y="-3" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABGdBTUEAALGOfPtRkwAABH1JREFUSA3tVntsk1UUP7fPPYuUMqju0SawrWMwxyCIUnRubpD5B++BHWAiYoKvRPcHsBBdWH0kaDQjwbg4jVsHND4GZoBuy1gkahZQQAdjMpwZ654tW7utj6/fd7237qvfV1fsNvUfvUlzzzn3nN/vnHPvd28B/h//UgeQkMeUYl4PmHsfAyQK7bOVCcltQJK9ll/LzvJYMl4IzJQUwQWEpRaRfZYKRqwJEWwCk8RDiYhppZTUxLRrEeB03mk2MwbUYZEvsWBgtwtxJEKFl/8uUooXDmtKYj6Bf3KeEfENpNZ7kFwxm8REexwpUJtswcbvIcGTyQ03LWWHOyONE/rNqGIK4AcU9aNEU1AvW7TNgaJVQtBI5BkTU3AWkGIMybVfylJKIiET+syo1TyAFMAXi5lBI9t7jrdFOk+LGEkkkF5ekmV+IAu0ejV2D7k8o00Xb3S8UuvE5BKYzphWq1daDxbI1ubk1ZY3wr4V76C3nz+lcmca8lZaDxROh5T6hq1Yu3nNfcm787OAlHK7ruUq5+ewLC0ls2x1JWa8TOCO77pigzd21mFzw54lSabc616H06vfW7QcyaTSgYa267+819AVLqEpiQ0Vu+P7ExK3Hdp3ltztCJ48XJi2SC3tbLVeAZ6UB2S8ftRqvQyP78rP7hpg9OUvf4W8Ez7YWvpIqqFC09JxqKaO9xXOU7ZavcFoPPbSabgz4ESOvlF09LnPIW6ZTu0cHhPGBmXvBAOxhuS4oy/Uo6GeO8hpH0fVB89guXF5TmFvzYdBR4EgIqbPF31JHH3OdFoJ7+fzMMjeP6bKKUgDhNCfjlF23mJw2ifmeca9wRiMMbLdsqv2P1a1OfA60adRMETE9M0ksGs8pFVq7R93giZxDvTeHFRGxSpI29cFwSnOxheNoL5XBbabQ7IFKXOD0NFxCpi7MB56OgdOUkyKHVwMJ5BsH7p11YafSD6MS/RmztZl54gtn/w+dfQ78TP3vxVYe3rpEc7eR74kjI+Tn5H4sSadmaNx177tpvYt4TjEFRMv4pxO9ui09c3zgZZyLIfq3/0aOBY3/ND886b9BVXY5ZgI4I2PulFp7jF8rrptO+vnWk683kzeey7QkU+OtGKSSBXBy56KXNQ24iT1M9y18k0fLSYVB9dKq4shRhUFFcU1JAFuKhzY9WohqDQxQA8iP+5JiMevndnTPWd+bCY5G79nO7kYWvGGxo8vpgpJU1ckQcZqHVQ++1lYUoplMTeCLmMhZDyom4QGGBl0ofrKC3pi2Bk0TgqhxOuaay+JTu3aLcugqeYS+bRcobEinWU4aCR+D2/NEtm/OdWO/QxrEhmJEnqB6HN3ZE8M9YxI6d2riJLhVUUGZVnRB6EJhuIE9O++aIcdBx7Fjn6X2zPuI/uNITpeif0+Lo1so4a0e5gPDO4jbxDOxFlNdPv5k5eh+6d+0roxGBtxk9vLD+Qw0W8apDIJRMcpIX5eDCSmzof1T60CuVJaTNasQqxQ+a+I5SQg+Jc0NPgu+gghdtxl/T+49BvhP9QH/xd9DwAAAABJRU5ErkJggg=="></image>
              </g>
            </svg>
            <span class="m-l-15">{{row.data[column].name}}</span>
          </div>
        </td>
      </ng-container>
    </table>
    <div *ngIf="cardType === 'coupon' && selectedSell">
      <form [formGroup]="myForm">
        <div class="p-l-30 m-b-30" style="font-size: 25px">
          Campaign
        </div>
        <div class="p-l-60">
          <div class="row-input">
            <div class="lable">
              Campaign Name
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input [ngClass]="{'error': myForm.controls['campaignName'].invalid && !customValidation}"
                  formControlName="campaignName" type="text" [(ngModel)]="dataCampaign.name" nbInput fullWidth
                  fieldSize="small" placeholder="">
                <div *ngIf="myForm.controls['campaignName'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Description
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <textarea [ngClass]="{'error': myForm.controls['description'].invalid && !customValidation}"
                  formControlName="description" [(ngModel)]="dataCampaign.description" nbInput fullWidth
                  placeholder="Textarea"></textarea>
                <div *ngIf="myForm.controls['description'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Template
            </div>
            <div class="value">
              <div *ngIf="coupons.length" class="pos-r full-width">
                <nb-select [ngClass]="{'error': myForm.controls['template'].invalid && !customValidation}"
                  formControlName="template" #selectTemplate size="small" placeholder="Select Template"
                  [(selected)]="dataCampaign.card_id">
                  <nb-option *ngFor="let item of coupons" [value]="item.id">
                    {{ item.template_name }}
                  </nb-option>
                </nb-select>
              </div>
              <div *ngIf="myForm.controls['template'].invalid && !customValidation" class="error-lable">
                Field error (make your choice)
              </div>
              <div *ngIf="noCoupons" class="error-lable fs-16">
                Please create Coupon Template First
                <a [routerLink]="[ '/main/templates/create-cards' ]" class="c-p">
                  (click here)
                </a>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Start Date
            </div>
            <div class="value df ai-c">
              <div (clickOutside)="showDatePicker = false" class="pos-r m-r-34">
                <input [ngClass]="{'error': !dataCampaign.startDate && !customValidation}" formControlName="startDate"
                  class="small" (focus)="showDatePicker = true" [(ngModel)]="dataCampaign.startDate" type="text" nbInput
                  fullWidth fieldSize="small" placeholder="">
                <div *ngIf="!dataCampaign.startDate && !customValidation" class="error-lable">
                  Field error (make your choice)
                </div>
                <nb-calendar *ngIf="showDatePicker" (dateChange)="dateStartChange($event);" [(date)]="dateStart">
                </nb-calendar>
              </div>
              <div class="pos-r df">
                <div class="m-r-13 p-t-10">
                  End Date
                </div>
                <div (clickOutside)="showDatePickerEnd = false" class="pos-r">
                  <input [ngClass]="{'error': !dataCampaign.endDate && !customValidation}" formControlName="endDate"
                    class="small" (focus)="showDatePickerEnd = true" [(ngModel)]="dataCampaign.endDate" type="text" nbInput
                    fullWidth fieldSize="small" placeholder="">
                  <div *ngIf="!dataCampaign.endDate && !customValidation" class="error-lable">
                    Field error (make your choice)
                  </div>
                  <nb-calendar *ngIf="showDatePickerEnd" (dateChange)="dateEndChange($event);" [(date)]="dateEnd">
                  </nb-calendar>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Coupon
        </div>
        <div class="p-l-60">
          <div class="row-input" style="display: none !important;">
            <div class="lable">
              Select Currency
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select [ngClass]="{'error': myForm.controls['currency'].invalid && !customValidation}" formControlName="currency" [(ngModel)]="brand_currency" placeholder="" fullWidth fieldSize="small" style="width: 160px;">
                  <nb-option value="$">USD ($)</nb-option>
                  <nb-option value="€">EUR (€)</nb-option>
                  <nb-option value="£">GBP (£)</nb-option>
                  <nb-option value="$">AUD ($)</nb-option>
                  <nb-option value="$">CAD ($)</nb-option>
                  <nb-option value="R$">BRL (R$)</nb-option>
                  <nb-option value="HK$">HKD (HK$)</nb-option>
                  <nb-option value="лв">BGN (лв)</nb-option>
                  <nb-option value="₺">TRY (₺)</nb-option>
                  <nb-option value="د.إ">AED (د.إ)</nb-option>
                  <nb-option value="CHF">CHF (CHF)</nb-option>
                  <nb-option value="kr">SEK (kr)</nb-option>
                  <nb-option value="NT$">NT (NT$)</nb-option>
                  <nb-option value="R">ZAR (R)</nb-option>
                  <nb-option value="$">SGD ($)</nb-option>
                  <nb-option value="₩">KRW (₩)</nb-option>
                  <nb-option value="Rs">LKR (Rs)</nb-option>
                  <nb-option value="kr">DKK (kr)</nb-option>
                  <nb-option value="Rs">PKR (Rs)</nb-option>
                  <nb-option value="₾">GEL (₾)</nb-option>
                  <nb-option value="₽">RUB (₽)</nb-option>
                  <nb-option value="zł">PLN (zł)</nb-option>
                  <nb-option value="kr">SEK (kr)</nb-option>
                  <nb-option value="¥">CNY (¥)</nb-option>
                  <nb-option value="kr">NOK (kr)</nb-option>
                  <nb-option value="₹">INR (₹)</nb-option>
                  <nb-option value="$">NZD ($)</nb-option>
                  <nb-option value="RM">MYR (RM)</nb-option>
                  <nb-option value="฿">THB (฿)</nb-option>
                  <nb-option value="₫">VND (₫)</nb-option>
                </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Discount
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input id="discountInput" [ngClass]="{'error': myForm.controls['discount'].invalid && !customValidation}"
                  formControlName="discount" [ngModel]="dataCampaign.discount" (ngModelChange)="changeDiscount($event)"
                  class="small p-r-25" (input)="checkDiscount($event.target.value)" type="number" nbInput fullWidth fieldSize="small"
                  style="background-repeat: no-repeat; background-position: right;">
                <div *ngIf="myForm.controls['discount'].invalid && !customValidation" class="error-lable">
                  set discount
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="row-input">
            <div class="lable">
              Set Limit
            </div>
            <div class="value">
              <div class="pos-r">
                <input placeholder="Optional"
                  [ngClass]="{'error': myForm.controls['setLimit'].invalid && !customValidation}"
                  formControlName="setLimit" class="small" [(ngModel)]="limit" (ngModelChange)="onChange()" max="100"
                  type="number" nbInput fullWidth fieldSize="small" placeholder="">
                <div *ngIf="myForm.controls['setLimit'].invalid && !customValidation" class="error-lable">
                  set maximum number of coupons that can be created
                </div>
              </div>
            </div>
          </div> -->
          <div class="row-input">
            <div class="lable">
              Coupon Lifetime (Days)
            </div>
            <div class="value">
              <div class="pos-r">
                <input [ngClass]="{'error': myForm.controls['validity'].invalid && !customValidation}" (input)="checkValidity($event.target.value)"
                formControlName="validity" [(ngModel)]="dataCampaign.coupon_validity" type="text" class="small" nbInput fullWidth fieldSize="small" placeholder="">
                <div *ngIf="myForm.controls['validity'].invalid && !customValidation" class="error-lable">
                  Enter Validity in days e.g. 30 (1-365)
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Redemption
          <div style="font-size: small; padding-top: 5px;">
            (custom field triggers redemption flow)
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-60">
          <div class="row-input">
            <div class="lable p-t-0">
              Manychat CustomField
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFields" size="small" placeholder="Select Custom Fields"
                [ngClass]="{
                  error:
                  myForm.controls['customFields'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.selectedCustomField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Finance Field
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFieldFinance" size="small" placeholder="Select Finance Field"
                [ngClass]="{
                  error:
                  myForm.controls['customFieldFinance'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.financeField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsNumber" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              AddWallet Field
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFieldAddwallet" size="small" placeholder="Select Field"
                [ngClass]="{
                  error:
                  myForm.controls['customFieldAddwallet'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.addWalletField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
        </div>
      </form>
      <!-- <div *ngIf="myForm.invalid && !customValidation" class="row-input">
        <div class="lable">
        </div>
        <div class="value message-error" style="text-align: left;">
          Validation Error
        </div>
      </div> -->
      <div class="row-input">
        <div class="lable">
        </div>
        <div class="value">
          <div class="pos-r full-width">
            <button (click)="clear()" class="cust-button m-r-15" nbButton status="gray">
              Clear
            </button>
            <button *ngIf="!id && !noCoupons" (click)="create()" class="cust-button" nbButton status="success">
              Create
            </button>
            <button *ngIf="id" (click)="create()" class="cust-button" nbButton status="success">
              Update
            </button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="cardType === 'membership' && selectedSell">
      <form *ngIf="!membershipCampaignId" [formGroup]="membershipForm">
        <div class="p-l-30 m-b-30" style="font-size: 25px">
          Campaign
        </div>
        <div class="p-l-60">
          <div class="row-input">
            <div class="lable">
              Campaign Name
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input [ngClass]="{'error': membershipForm.controls['campaignName'].invalid && !customValidation}"
                  formControlName="campaignName" type="text" [(ngModel)]="dataCampaign.name" nbInput fullWidth
                  fieldSize="small" placeholder="">
                <div *ngIf="membershipForm.controls['campaignName'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Description
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <textarea [ngClass]="{'error': membershipForm.controls['description'].invalid && !customValidation}"
                  formControlName="description" [(ngModel)]="dataCampaign.description" nbInput fullWidth
                  placeholder="Textarea"></textarea>
                <div *ngIf="membershipForm.controls['description'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Template
            </div>
            <div class="value">
              <div *ngIf="membership.length" class="pos-r full-width">
                <nb-select [ngClass]="{'error': membershipForm.controls['template'].invalid && !customValidation}"
                  formControlName="template" #selectTemplate size="small" placeholder="Select Template"
                  [(selected)]="dataCampaign.card_id">
                  <nb-option *ngFor="let item of membership" [value]="item.id">
                    {{ item.template_name }}
                  </nb-option>
                </nb-select>
              </div>
              <div *ngIf="membershipForm.controls['template'].invalid && !customValidation" class="error-lable">
                Field error (make your choice)
              </div>
              <div *ngIf="noMembership" class="error-lable fs-16">
                Please create Membership Template First
                <a [routerLink]="[ '/main/templates/create-cards' ]" class="c-p">
                  (click here)
                </a>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Stamp Card
        </div>
        <div class="p-l-60">

        </div> -->
        <div *ngIf="isApi" class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Membership field
          <div style="font-size: small; padding-top: 5px;">
            (custom field triggers update to membership status)
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-60">
          <div class="row-input">
            <div class="lable p-t-0">
              Manychat CustomField Redeem
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFields_redeem" size="small" placeholder="Select Custom Fields"
                [ngClass]="{
                  error:
                  membershipForm.controls['customFields_redeem'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.selectedCustomField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable p-t-0">
              Manychat CustomField Status
            </div>
            <div class="value">
              <div class="pos-r full-width">
              <nb-select
                formControlName="customFields_status" size="small" placeholder="Select Custom Fields"
                [ngClass]="{
                  error:
                  membershipForm.controls['customFields_status'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.memCard_status_customField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              AddWallet Field
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFieldAddwallet" size="small" placeholder="Select Field"
                [ngClass]="{
                  error:
                  membershipForm.controls['customFieldAddwallet'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.addWalletField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
        </div>
      </form>
      <div class="row-input">
        <div class="lable">
        </div>
        <div class="value">
          <div *ngIf="!membershipCampaignId" class="pos-r full-width">
            <button (click)="clear()" class="cust-button m-r-15" nbButton status="gray">
              Clear
            </button>
            <button *ngIf="!id && !noMembership" (click)="create()" class="cust-button" nbButton status="success">
              Create
            </button>
            <button *ngIf="id" (click)="create()" class="cust-button" nbButton status="success">
              Update
            </button>
          </div>
          <div *ngIf="membershipCampaignId" class="pos-r full-width">
            <div class="error-lable fs-16">
              You have already created membership card campaign
              <a [routerLink]="[ '/main/campaign-main/details/' + membershipCampaignId]" class="c-p">
                (click here)
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="cardType === 'loyalty' && selectedSell">
      <form *ngIf="dataCampaign.campaign_type == 5 && !loyaltyCampaignId" [formGroup]="loyaltyForm">
        <div class="p-l-30 m-b-30" style="font-size: 25px">
          Campaign
        </div>
        <div class="p-l-60">
          <div class="row-input">
            <div class="lable">
              Campaign Name
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input [ngClass]="{'error': loyaltyForm.controls['campaignName'].invalid && !customValidation}"
                  formControlName="campaignName" type="text" [(ngModel)]="dataCampaign.name" nbInput fullWidth
                  fieldSize="small" placeholder="">
                <div *ngIf="loyaltyForm.controls['campaignName'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Description
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <textarea [ngClass]="{'error': loyaltyForm.controls['description'].invalid && !customValidation}"
                  formControlName="description" [(ngModel)]="dataCampaign.description" nbInput fullWidth
                  placeholder="Textarea"></textarea>
                <div *ngIf="loyaltyForm.controls['description'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Template
            </div>
            <div class="value">
              <div *ngIf="loyalty.length" class="pos-r full-width">
                <nb-select [ngClass]="{'error': loyaltyForm.controls['template'].invalid && !customValidation}"
                  formControlName="template" #selectTemplate size="small" placeholder="Select Template"
                  [(selected)]="dataCampaign.card_id">
                  <nb-option *ngFor="let item of loyalty" [value]="item.id">
                    {{ item.template_name }}
                  </nb-option>
                </nb-select>
              </div>
              <div *ngIf="loyaltyForm.controls['template'].invalid && !customValidation" class="error-lable">
                Field error (make your choice)
              </div>
              <div *ngIf="noLoyalty" class="error-lable fs-16">
                Please create Loyalty/Stamp Template First
                <a [routerLink]="[ '/main/templates/create-cards' ]" class="c-p">
                  (click here)
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Loyalty Points
        </div>
        <div class="p-l-60">
          <div class="row-input" style="display: none !important;">
            <div class="lable">
              Select Currency
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select [ngClass]="{'error': loyaltyForm.controls['currency'].invalid && !customValidation}" formControlName="currency" [(ngModel)]="brand_currency" placeholder="" fullWidth fieldSize="small" style="width: 160px;">
                  <nb-option value="$">USD ($)</nb-option>
                  <nb-option value="€">EUR (€)</nb-option>
                  <nb-option value="£">GBP (£)</nb-option>
                  <nb-option value="$">AUD ($)</nb-option>
                  <nb-option value="$">CAD ($)</nb-option>
                  <nb-option value="R$">BRL (R$)</nb-option>
                  <nb-option value="HK$">HKD (HK$)</nb-option>
                  <nb-option value="лв">BGN (лв)</nb-option>
                  <nb-option value="₺">TRY (₺)</nb-option>
                  <nb-option value="د.إ">AED (د.إ)</nb-option>
                  <nb-option value="CHF">CHF (CHF)</nb-option>
                  <nb-option value="kr">SEK (kr)</nb-option>
                  <nb-option value="NT$">NT (NT$)</nb-option>
                  <nb-option value="R">ZAR (R)</nb-option>
                  <nb-option value="$">SGD ($)</nb-option>
                  <nb-option value="₩">KRW (₩)</nb-option>
                  <nb-option value="Rs">LKR (Rs)</nb-option>
                  <nb-option value="kr">DKK (kr)</nb-option>
                  <nb-option value="Rs">PKR (Rs)</nb-option>
                  <nb-option value="₾">GEL (₾)</nb-option>
                  <nb-option value="₽">RUB (₽)</nb-option>
                  <nb-option value="zł">PLN (zł)</nb-option>
                  <nb-option value="kr">SEK (kr)</nb-option>
                  <nb-option value="¥">CNY (¥)</nb-option>
                  <nb-option value="kr">NOK (kr)</nb-option>
                  <nb-option value="₹">INR (₹)</nb-option>
                  <nb-option value="$">NZD ($)</nb-option>
                  <nb-option value="RM">MYR (RM)</nb-option>
                  <nb-option value="฿">THB (฿)</nb-option>
                  <nb-option value="₫">VND (₫)</nb-option>
                </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable" style="min-width: 100px !important; width: 100px !important;">
              1 <span class="p-l-5 p-r-5">{{ brand_currency }}</span> equals
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input [ngClass]="{'error': loyaltyForm.controls['points'].invalid && !customValidation}"
                  formControlName="points" [(ngModel)]="dataCampaign.points" placeholder="0.01"
                  class="small m-r-5" type="number" nbInput fullWidth fieldSize="small" (input)="checkPoints($event.target.value)"
                  style="width: 120px !important; padding: 10px !important;">
                Points
                <div *ngIf="loyaltyForm.controls['points'].invalid && !customValidation" class="error-lable">
                  set points
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Points field
          <div style="font-size: small; padding-top: 5px;">
            (custom field triggers update to points)
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-60">
          <div class="row-input">
            <div class="lable p-t-0">
              Manychat CustomField
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFields" size="small" placeholder="Select Custom Fields"
                [ngClass]="{
                  error:
                  loyaltyForm.controls['customFields'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.selectedCustomField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsNumber" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Finance Field
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFieldFinance" size="small" placeholder="Select Finance Field"
                [ngClass]="{
                  error:
                  loyaltyForm.controls['customFieldFinance'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.financeField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsNumber" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              AddWallet Field
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFieldAddwallet" size="small" placeholder="Select Field"
                [ngClass]="{
                  error:
                  loyaltyForm.controls['customFieldAddwallet'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.addWalletField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
        </div>
      </form>
      <form *ngIf="dataCampaign.campaign_type == 6 && !stampCampaignId" [formGroup]="stampForm">
        <div class="p-l-30 m-b-30" style="font-size: 25px">
          Campaign
        </div>
        <div class="p-l-60">
          <div class="row-input">
            <div class="lable">
              Campaign Name
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input [ngClass]="{'error': stampForm.controls['campaignName'].invalid && !customValidation}"
                  formControlName="campaignName" type="text" [(ngModel)]="dataCampaign.name" nbInput fullWidth
                  fieldSize="small" placeholder="">
                <div *ngIf="stampForm.controls['campaignName'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Description
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <textarea [ngClass]="{'error': stampForm.controls['description'].invalid && !customValidation}"
                  formControlName="description" [(ngModel)]="dataCampaign.description" nbInput fullWidth
                  placeholder="Textarea"></textarea>
                <div *ngIf="stampForm.controls['description'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Template
            </div>
            <div class="value">
              <div *ngIf="loyalty.length" class="pos-r full-width">
                <nb-select [ngClass]="{'error': stampForm.controls['template'].invalid && !customValidation}"
                  formControlName="template" #selectTemplate size="small" placeholder="Select Template"
                  [(selected)]="dataCampaign.card_id">
                  <nb-option *ngFor="let item of loyalty" [value]="item.id">
                    {{ item.template_name }}
                  </nb-option>
                </nb-select>
              </div>
              <div *ngIf="stampForm.controls['template'].invalid && !customValidation" class="error-lable">
                Field error (make your choice)
              </div>
              <div *ngIf="noLoyalty" class="error-lable fs-16">
                Please create Loyalty/Stamp Template First
                <a [routerLink]="[ '/main/templates/create-cards' ]" class="c-p">
                  (click here)
                </a>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Stamp Card
        </div>
        <div class="p-l-60">

        </div> -->
        <div *ngIf="isApi" class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Stamp field
          <div style="font-size: small; padding-top: 5px;">
            (custom field triggers update to stamps)
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-60">
          <div class="row-input">
            <div class="lable p-t-0">
              Manychat CustomField
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFields" size="small" placeholder="Select Custom Fields"
                [ngClass]="{
                  error:
                  stampForm.controls['customFields'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.selectedCustomField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsNumber" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
              <div class="lable">
                Finance Field
              </div>
              <div class="value">
                <div class="pos-r full-width">
                  <nb-select
                  formControlName="customFieldFinance" size="small" placeholder="Select Finance Field"
                  [ngClass]="{
                    error:
                    stampForm.controls['customFieldFinance'].invalid &&
                    !customValidation
                  }"
                  [(ngModel)]="dataCampaign.financeField"
                  #selectCustomField
                  >
                  <nb-option value="">--Select Custom Fields--</nb-option>
                  <nb-option *ngFor="let customField of customFieldsNumber" [value]="customField.name">
                    {{customField.name}}
                  </nb-option>
                </nb-select>
                </div>
              </div>
            </div>
            <div class="row-input">
              <div class="lable">
                AddWallet Field
              </div>
              <div class="value">
                <div class="pos-r full-width">
                  <nb-select
                  formControlName="customFieldAddwallet" size="small" placeholder="Select Field"
                  [ngClass]="{
                    error:
                    stampForm.controls['customFieldAddwallet'].invalid &&
                    !customValidation
                  }"
                  [(ngModel)]="dataCampaign.addWalletField"
                  #selectCustomField
                  >
                  <nb-option value="">--Select Custom Fields--</nb-option>
                  <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                    {{customField.name}}
                  </nb-option>
                </nb-select>
                </div>
              </div>
            </div>
        </div>
      </form>
      <div class="row-input">
        <div class="lable">
        </div>
        <div class="value">
          <div *ngIf="dataCampaign.campaign_type == 5 && !loyaltyCampaignId" class="pos-r full-width">
            <button (click)="clear()" class="cust-button m-r-15" nbButton status="gray">
              Clear
            </button>
            <button *ngIf="!id && !noLoyalty" (click)="create()" class="cust-button" nbButton status="success">
              Create
            </button>
            <button *ngIf="id" (click)="create()" class="cust-button" nbButton status="success">
              Update
            </button>
          </div>
          <div *ngIf="dataCampaign.campaign_type == 5 && loyaltyCampaignId" class="pos-r full-width">
            <div class="error-lable fs-16">
              You have already created loyalty card campaign
              <a [routerLink]="[ '/main/campaign-main/details/' + loyaltyCampaignId]" class="c-p">
                (click here)
              </a>
            </div>
          </div>
          <div *ngIf="dataCampaign.campaign_type == 6 && !stampCampaignId" class="pos-r full-width">
            <button (click)="clear()" class="cust-button m-r-15" nbButton status="gray">
              Clear
            </button>
            <button *ngIf="!id && !noLoyalty" (click)="create()" class="cust-button" nbButton status="success">
              Create
            </button>
            <button *ngIf="id" (click)="create()" class="cust-button" nbButton status="success">
              Update
            </button>
          </div>
          <div *ngIf="dataCampaign.campaign_type == 6 && stampCampaignId" class="pos-r full-width">
            <div class="error-lable fs-16">
              You have already created stamp card campaign
              <a [routerLink]="[ '/main/campaign-main/details/' + stampCampaignId]" class="c-p">
                (click here)
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="cardType === 'ticket'  && selectedSell">
      <form [formGroup]="ticketForm">
        <div class="p-l-30 m-b-30" style="font-size: 25px">
          Campaign
        </div>
        <div class="p-l-60">
          <div class="row-input">
            <div class="lable">
              Campaign Name
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input [ngClass]="{'error': ticketForm.controls['campaignName'].invalid && !customValidation}"
                  formControlName="campaignName" type="text" [(ngModel)]="dataCampaign.name" nbInput fullWidth
                  fieldSize="small" placeholder="">
                <div *ngIf="ticketForm.controls['campaignName'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Description
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <textarea [ngClass]="{'error': ticketForm.controls['description'].invalid && !customValidation}"
                  formControlName="description" [(ngModel)]="dataCampaign.description" nbInput fullWidth
                  placeholder="Textarea"></textarea>
                <div *ngIf="ticketForm.controls['description'].invalid && !customValidation" class="error-lable">
                  Field error (must have at least 1 character)
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Template
            </div>
            <div class="value">
              <div *ngIf="tickets.length" class="pos-r full-width">
                <nb-select [ngClass]="{'error': ticketForm.controls['template'].invalid && !customValidation}"
                  formControlName="template" #selectTemplate size="small" placeholder="Select Template"
                  [(selected)]="dataCampaign.card_id">
                  <nb-option *ngFor="let item of tickets" [value]="item.id">
                    {{ item.template_name }}
                  </nb-option>
                </nb-select>
              </div>
              <div *ngIf="ticketForm.controls['template'].invalid && !customValidation" class="error-lable">
                Field error (make your choice)
              </div>
              <div *ngIf="noTickets" class="error-lable fs-16">
                Please create Tickets Template First
                <a [routerLink]="[ '/main/templates/create-cards' ]" class="c-p">
                  (click here)
                </a>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              Start Date
            </div>
            <div class="value df ai-c">
              <div (clickOutside)="showDatePicker = false" class="pos-r m-r-34">
                <input [ngClass]="{'error': !dataCampaign.startDate && !customValidation}" formControlName="startDate"
                  class="small" (focus)="showDatePicker = true" [(ngModel)]="dataCampaign.startDate" type="text" nbInput
                  fullWidth fieldSize="small" placeholder="">
                <div *ngIf="!dataCampaign.startDate && !customValidation" class="error-lable">
                  Field error (make your choice)
                </div>
                <nb-calendar *ngIf="showDatePicker" (dateChange)="dateStartChange($event);" [(date)]="dateStart">
                </nb-calendar>
              </div>
              <div class="pos-r df">
                <div class="m-r-13 p-t-10">
                  Time
                </div>
                <div class="pos-r">
                  <input [ngClass]="{'error': ticketForm.controls['time'].invalid && !customValidation}"
                    formControlName="time" type="text" [(ngModel)]="dataCampaign.time" nbInput fullWidth
                    fieldSize="small" placeholder="08:00 AM">
                  <div *ngIf="ticketForm.controls['time'].invalid && !customValidation" class="error-lable">
                    enter time in format (08:00 AM)
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Ticket
        </div>
        <div class="p-l-60">
          <div class="row-input">
            <div class="lable">
              Event Name
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <input [ngClass]="{'error': ticketForm.controls['event_name'].invalid && !customValidation}"
                  formControlName="event_name" [(ngModel)]="dataCampaign.event_name"
                  type="text" nbInput fullWidth fieldSize="small"
                  style="background-repeat: no-repeat; background-position: right;">
                <div *ngIf="ticketForm.controls['event_name'].invalid && !customValidation" class="error-lable">
                  Enter event name
                </div>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div *ngIf="dataCampaign.campaign_type == 8" class="lable">
              Venue
            </div>
            <div *ngIf="dataCampaign.campaign_type == 9" class="lable">
              Webinar Access Link
            </div>
            <div class="value">
              <div class="pos-r">
                <input *ngIf="dataCampaign.campaign_type == 8" [ngClass]="{'error': ticketForm.controls['venue'].invalid && !customValidation}"
                formControlName="venue" [(ngModel)]="dataCampaign.venue" class="color-link" type="text" nbInput fullWidth fieldSize="small" placeholder="Search Location"
                #location id='location' (keydown.enter)="$event.preventDefault()" autocorrect="off" autocapitalize="off" spellcheck="off">
                <div *ngIf="dataCampaign.campaign_type == 8 && ticketForm.controls['venue'].invalid && !customValidation" class="error-lable">
                  Enter Venue of Event
                </div>
                <input *ngIf="dataCampaign.campaign_type == 9" [ngClass]="{'error': ticketForm.controls['venue'].invalid && !customValidation}"
                formControlName="venue" [(ngModel)]="dataCampaign.venue" class="color-link" type="text" nbInput fullWidth fieldSize="small" placeholder="">
                <div *ngIf="dataCampaign.campaign_type == 9 && ticketForm.controls['venue'].invalid && !customValidation" class="error-lable">
                  Enter Link of Webinar
                </div>
              </div>
            </div>
          </div>
          <div class="row-input" *ngIf="dataCampaign.campaign_type == 8">
            <div class="lable">
            </div>
            <div class="value">
              <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
                <agm-marker [latitude]="latitude" [longitude]="longitude" [markerDraggable]="true"
                  (dragEnd)="markerDragEnd($event)"></agm-marker>
              </agm-map>

              <!-- <h5>Address: {{address}}</h5>
              <div>Latitude: {{latitude}}</div>
              <div>Longitude: {{longitude}}</div> -->
            </div>
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-30 m-b-30 p-t-30" style="font-size: 25px; border-top: 2px solid #ebeff5;">
          Redemption
          <div style="font-size: small; padding-top: 5px;">
            (custom field triggers redemption flow)
          </div>
        </div>
        <div *ngIf="isApi" class="p-l-60">
          <div class="row-input" *ngIf="dataCampaign.campaign_type == 8">
            <div class="lable p-t-0">
              Manychat CustomField
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFields" size="small" placeholder="Select Custom Fields"
                [ngClass]="{
                  error:
                  ticketForm.controls['customFields'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.selectedCustomField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
          <div class="row-input">
            <div class="lable">
              AddWallet Field
            </div>
            <div class="value">
              <div class="pos-r full-width">
                <nb-select
                formControlName="customFieldAddwallet" size="small" placeholder="Select Field"
                [ngClass]="{
                  error:
                  ticketForm.controls['customFieldAddwallet'].invalid &&
                  !customValidation
                }"
                [(ngModel)]="dataCampaign.addWalletField"
                #selectCustomField
                >
                <nb-option value="">--Select Custom Fields--</nb-option>
                <nb-option *ngFor="let customField of customFieldsBoolean" [value]="customField.name">
                  {{customField.name}}
                </nb-option>
              </nb-select>
              </div>
            </div>
          </div>
        </div>
      </form>
      <!-- <div *ngIf="myForm.invalid && !customValidation" class="row-input">
        <div class="lable">
        </div>
        <div class="value message-error" style="text-align: left;">
          Validation Error
        </div>
      </div> -->
      <div class="row-input">
        <div class="lable">
        </div>
        <div class="value">
          <div class="pos-r full-width">
            <button (click)="clear()" class="cust-button m-r-15" nbButton status="gray">
              Clear
            </button>
            <button *ngIf="!id && !noTickets" (click)="create()" class="cust-button" nbButton status="success">
              Create
            </button>
            <button *ngIf="id" (click)="create()" class="cust-button" nbButton status="success">
              Update
            </button>
          </div>
        </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>

<!-- <app-dialog-upgrade></app-dialog-upgrade> -->
