<div class="df jc-b m-b-15">
  <h1 class="m-t-0 m-b-0 fs-24 fw-600">
    Create Campaign
  </h1>
</div>
<nb-card>
  <nb-card-header class="non-border">What is your Marketing Objective</nb-card-header>
  <nb-card-body class="p-0 p-b-10">
    <table class="m-b-40" [nbTreeGrid]="data" equalColumnsWidth>
      <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
      <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>

      <ng-container *ngFor="let column of defaultColumns" [nbTreeGridColumnDef]="column">
        <th nbTreeGridHeaderCell *nbTreeGridHeaderCellDef>{{column}}</th>
        <td (click)="selectedSell = row.data[column].name" [ngClass]="{'active-sell': (selectedSell === row.data[column].name && row.data[column].name), 'c-p': row.data[column].name, 'pe-n': !row.data[column].name}"
          nbTreeGridCell *nbTreeGridCellDef="let row">
          <div class="df ai-c">
            <img *ngIf="selectedSell === row.data[column].name" class="m-r-15" width="30px" src="assets/svg-icon/success-circle.svg"
              alt="">
            <img *ngIf="selectedSell !== row.data[column].name" class="m-r-15" width="30px" [src]="row.data[column].icon"
              alt="">
            <span>{{row.data[column].name}}</span>
          </div>
        </td>
      </ng-container>
    </table>
    <div *ngIf="selectedSell === 'Coupon in %'" class="p-l-60">
      <form [formGroup]="myForm">
        <div class="row-input">
          <div class="lable">
            Campaign Name
          </div>
          <div class="value">
            <div class="pos-r full-width">
              <input [ngClass]="{'error': myForm.controls['campaignName'].invalid && !customValidation}"
                formControlName="campaignName" type="text" [(ngModel)]="dataCoupon.name" nbInput fullWidth fieldSize="small"
                placeholder="">
            </div>
          </div>
        </div>
        <div class="row-input">
          <div class="lable">
            Description
          </div>
          <div class="value">
            <div class="pos-r full-width">
              <textarea [ngClass]="{'error': myForm.controls['description'].invalid && !customValidation}"
                formControlName="description" [(ngModel)]="dataCoupon.desription" nbInput fullWidth placeholder="Textarea"></textarea>
            </div>
          </div>
        </div>
        <div class="row-input">
          <div class="lable">
            Template
          </div>
          <div class="value">
            <div class="pos-r full-width">
              <nb-select [ngClass]="{'error': myForm.controls['template'].invalid && !customValidation}"
                formControlName="template" #select size="small" placeholder="Select Template" [(selected)]="dataCoupon.template">
                <nb-option value="1">Option 1</nb-option>
                <nb-option value="2">Option 2</nb-option>
                <nb-option value="3">Option 3</nb-option>
                <nb-option value="4">Option 4</nb-option>
              </nb-select>
            </div>
          </div>
        </div>
        <div class="row-input">
          <div class="lable">
            Discount
          </div>
          <div class="value">
            <div class="pos-r full-width">
              <input [ngClass]="{'error': myForm.controls['discount'].invalid && !customValidation}" formControlName="discount"
                [(ngModel)]="dataCoupon.discount" class="small" type="text" nbInput fullWidth fieldSize="small"
                placeholder="">
            </div>
          </div>
        </div>
        <div class="row-input">
          <div class="lable">
            Start Date
          </div>
          <div class="value df ai-c">
            <div (clickOutside)="showDatePicker = false" class="pos-r m-r-34">
              <input [ngClass]="{'error': !dataCoupon.startDate && !customValidation}" formControlName="startDate"
                class="small" (focus)="showDatePicker = true" [(ngModel)]="dataCoupon.startDate" type="text"
                nbInput fullWidth fieldSize="small" placeholder="">
              <nb-calendar *ngIf="showDatePicker" (dateChange)="dateStartChange($event);" [(date)]="dateStart"></nb-calendar>
            </div>
            <div class="pos-r df ai-c">
              <div class="m-r-13">
                End Date
              </div>
              <div (clickOutside)="showDatePickerEnd = false" class="pos-r">
                <input [ngClass]="{'error': !dataCoupon.endDate && !customValidation}" formControlName="endDate"
                  class="small" (focus)="showDatePickerEnd = true" [(ngModel)]="dataCoupon.endDate" type="text"
                  nbInput fullWidth fieldSize="small" placeholder="">
                <nb-calendar *ngIf="showDatePickerEnd" (dateChange)="dateEndChange($event);" [(date)]="dateEnd"></nb-calendar>
              </div>
            </div>
          </div>
        </div>
      </form>
      <div class="row-input">
        <div class="lable">
        </div>
        <div class="value">
          <div class="pos-r full-width">
            <button (click)="clear()" class="cust-button m-r-15" nbButton status="gray">
              Clear
            </button>
            <button (click)="create()" class="cust-button" nbButton status="success">
              Create
            </button>
          </div>
        </div>
      </div>
    </div>
  </nb-card-body>
</nb-card>